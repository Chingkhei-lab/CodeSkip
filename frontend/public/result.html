<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>AI Result</title>
  <link rel="stylesheet" href="overlay.css">
  <style>
    html,body { height:100%; margin:0; overflow:hidden; background:transparent; }
    #result-wrapper {
      height:100%;
      display:flex;
      flex-direction:column;
    }
    #header {
      background-color:rgba(0,0,0,0.5);
      border-radius:10px 10px 0 0;
      padding:10px;
      display:flex;
      gap:10px;
      align-items:center;
    }
    #header button {
      background:#333; color:#fff; border:none; border-radius:4px; padding:6px 10px; cursor:pointer;
    }
    #content {
      flex:1;
      background:rgba(0,0,0,0.7);
      color:#fff;
      padding:12px;
      white-space:pre-wrap;
      overflow:auto;
      border-radius:0 0 10px 10px;
    }
  </style>
</head>
<body>
  <div id="result-wrapper">
    <div id="header">
      <button id="copy">Copy</button>
      <button id="close">Close</button>
    </div>
    <div id="content"></div>
  </div>
  <script>
    const { ipcRenderer } = require('electron');
    ipcRenderer.on('result-data', (ev, data) => {
      document.getElementById('content').textContent = data.content;
    });
    document.getElementById('copy').onclick = () => {
      navigator.clipboard.writeText(document.getElementById('content').textContent);
    };
    document.getElementById('close').onclick = () => {
      ipcRenderer.send('close-result-window');
    };
  </script>
</body>
</html>